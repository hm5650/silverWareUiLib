local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

local gui = Instance.new("ScreenGui", game.CoreGui)
local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 160, 0, 110)
main.Position = UDim2.new(0.5, -80, 0.5, -60)
main.BackgroundColor3 = Color3.fromRGB(20, 50, 50)
main.BorderSizePixel = 0
main.BackgroundTransparency = 0.2
main.Active = true
main.Draggable = true

local corner = Instance.new("UICorner", main)
corner.CornerRadius = UDim.new(0, 10)

local scroll = Instance.new("ScrollingFrame", main)
scroll.Size = UDim2.new(1, 0, 1, -20)
scroll.Position = UDim2.new(0, 0, 0, 20)
scroll.CanvasSize = UDim2.new(0, 0, 0, 0)
scroll.BackgroundTransparency = 1
scroll.ScrollBarThickness = 6

local layout = Instance.new("UIListLayout", scroll)
layout.Padding = UDim.new(0, 5)
layout.SortOrder = Enum.SortOrder.LayoutOrder
layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	scroll.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 5)
end)

local minimize = Instance.new("TextButton", main)
minimize.Size = UDim2.new(0, 20, 0, 20)
minimize.Position = UDim2.new(0, 0, 0, 0)
minimize.Text = "▼"
minimize.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
minimize.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", minimize).CornerRadius = UDim.new(0, 10)

local textbox = Instance.new("TextBox", scroll)
textbox.Size = UDim2.new(1, -10, 0, 25)
textbox.Text = "10"
textbox.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
textbox.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", textbox).CornerRadius = UDim.new(0, 10)

local button = Instance.new("TextButton", scroll)
button.Size = UDim2.new(1, -10, 0, 25)
button.Text = "Enable Hitbox"
button.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
button.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", button).CornerRadius = UDim.new(0, 10)

_G.HeadSize = tonumber(textbox.Text) or 2
_G.Disabled = true
local targets = {}

textbox.FocusLost:Connect(function()
	local size = tonumber(textbox.Text)
	if size then
		_G.HeadSize = size
	else
		textbox.Text = tostring(_G.HeadSize)
	end
end)

local function updateTargets()
	targets = {}
	for _, p in ipairs(Players:GetPlayers()) do
		if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
			table.insert(targets, p)
		end
	end
end

button.MouseButton1Click:Connect(function()
	_G.Disabled = not _G.Disabled
	button.Text = _G.Disabled and "Enable Hitbox" or "Disable Hitbox"
	if not _G.Disabled then
		for _, plr in ipairs(targets) do
			local root = plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")
			if root then
				root.Size = Vector3.new(2, 2, 2)
				root.Transparency = 0
				root.BrickColor = BrickColor.new("Medium stone grey")
				root.Material = Enum.Material.Plastic
				root.CanCollide = true
			end
		end
	end
end)

minimize.MouseButton1Click:Connect(function()
	local minimized = scroll.Visible
	scroll.Visible = not minimized
	layout.Parent = scroll.Visible and scroll or nil
	minimize.Text = scroll.Visible and "▼" or "▲"
end)

RunService.RenderStepped:Connect(function()
	if not _G.Disabled then
		for _, plr in ipairs(targets) do
			local root = plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")
			if root then
				root.Size = Vector3.new(_G.HeadSize, _G.HeadSize, _G.HeadSize)
				root.Transparency = 0.1
				root.Material = Enum.Material.Neon
				root.BrickColor = BrickColor.new("Really blue")
				root.CanCollide = false
			end
		end
	end
end)

while true do
	updateTargets()
	wait(1)
end
