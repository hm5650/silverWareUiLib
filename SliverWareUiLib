local UILib = {}
UILib.__index = UILib

function UILib.new(title)
    local self = setmetatable({}, UILib)

    local gui = Instance.new("ScreenGui", game:GetService("CoreGui"))
    local frame = Instance.new("Frame", gui)
    frame.Size = UDim2.new(0, 160, 0, 110)
    frame.Position = UDim2.new(0.5, -80, 0.5, -50)
    frame.BackgroundColor3 = Color3.fromRGB(32, 50, 50)
    frame.BackgroundTransparency = 0.2
    frame.Active = true
    frame.Draggable = true
    frame.ClipsDescendants = true

    local corner = Instance.new("UICorner", frame)
    corner.CornerRadius = UDim.new(0, 10)

    self.gui = gui
    self.frame = frame
    self.elements = {}

    return self
end

function UILib:addBtn(name, callback)
    local button = Instance.new("TextButton", self.frame)
    button.Size = UDim2.new(0, 120, 0, 25)
    button.Position = UDim2.new(0, 20, 0, #self.elements * 30 + 5)
    button.Text = name
    button.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
    button.TextColor3 = Color3.fromRGB(255, 150, 255)

    local corner = Instance.new("UICorner", button)
    corner.CornerRadius = UDim.new(0, 10)

    button.MouseButton1Click:Connect(callback)

    table.insert(self.elements, button)
end

function UILib:addToggle(name, callback)
    local toggled = false
    local button = Instance.new("TextButton", self.frame)
    button.Size = UDim2.new(0, 120, 0, 25)
    button.Position = UDim2.new(0, 20, 0, #self.elements * 30 + 5)
    button.Text = "Enable " .. name
    button.BackgroundColor3 = Color3.fromRGB(90, 90, 90)
    button.TextColor3 = Color3.fromRGB(255, 150, 255)

    local corner = Instance.new("UICorner", button)
    corner.CornerRadius = UDim.new(0, 10)

    button.MouseButton1Click:Connect(function()
        toggled = not toggled
        button.Text = (toggled and "Disable " or "Enable ") .. name
        callback(toggled)
    end)

    table.insert(self.elements, button)
end

function UILib:addTextbox(placeholder, callback)
    local box = Instance.new("TextBox", self.frame)
    box.Size = UDim2.new(0, 120, 0, 25)
    box.Position = UDim2.new(0, 20, 0, #self.elements * 30 + 5)
    box.Text = placeholder
    box.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
    box.TextColor3 = Color3.fromRGB(255, 255, 255)

    local corner = Instance.new("UICorner", box)
    corner.CornerRadius = UDim.new(0, 10)

    box.FocusLost:Connect(function()
        callback(box.Text)
    end)

    table.insert(self.elements, box)
end

return UILib
